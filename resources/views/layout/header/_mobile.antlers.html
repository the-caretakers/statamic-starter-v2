<div class="w-full z-10 relative">
    <div class="container py-4">
        <div class="flex justify-between">
            <div
                x-show="navigationMenuOpen"
                x-transition.opacity.duration.200ms
                x-on:click.away="navigationMenuClose"
                x-cloak
                class="fixed inset-x-0 top-[80px] lg:top-[90px] bottom-0 bg-white"
            >
                <div class="flex justify-center w-full h-auto overflow-y-auto max-h-full text-black">
                    <div class="flex flex-col gap-12 items-stretch justify-center w-full p-8">
                        <nav>
                            <ul class="flex flex-col gap-5">
                                    {{ nav:main }}
                                        <li
                                            {{ if children }}
                                            x-data="{
                                                open: false,
                                                toggle() { this.open = !this.open }
                                            }"
                                            {{ /if }}
                                        >
                                            {{ if children }}
                                                <div>
                                                    <button
                                                        @click="toggle()"
                                                        class="text-lg font-medium hover:text-primary flex items-center gap-2 justify-between w-full text-left"
                                                    >
                                                        {{ nav_title ?? title }}
                                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor"
                                                            class="w-5 h-5 transition-transform duration-200"
                                                            :class="{ 'rotate-180': open }"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                                        </svg>
                                                    </button>

                                                    <div
                                                        x-show="open"
                                                        x-transition:enter="transition ease-out duration-200"
                                                        x-transition:enter-start="opacity-0 -translate-y-2"
                                                        x-transition:enter-end="opacity-100 translate-y-0"
                                                        x-transition:leave="transition ease-in duration-150"
                                                        x-transition:leave-start="opacity-100 translate-y-0"
                                                        x-transition:leave-end="opacity-0 -translate-y-2"
                                                        class="mt-3 ml-4"
                                                    >
                                                        <ul class="flex flex-col gap-3 border-l-2 border-gray-200 pl-4">
                                                            <li>
                                                                <a
                                                                    href="{{ url }}"
                                                                    class="text-base font-semibold bg-gray-50 px-3 py-1 -ml-3 rounded hover:bg-gray-100"
                                                                    @click="navigationMenuClose()"
                                                                >
                                                                    View All {{ nav_title ?? title }}
                                                                </a>
                                                            </li>
                                                            {{ children }}
                                                                <li>
                                                                    <a
                                                                        href="{{ url }}"
                                                                        class="text-base hover:underline hover:text-primary"
                                                                        @click="navigationMenuClose()"
                                                                    >
                                                                        {{ nav_title ?? title }}
                                                                    </a>
                                                                </li>
                                                            {{ /children }}
                                                        </ul>
                                                    </div>
                                                </div>
                                            {{ else }}
                                                <a class="text-lg hover:underline font-medium hover:text-primary" href={{ url }}>
                                                    {{ nav_title ?? title }}
                                                </a>
                                            {{ /if }}
                                        </li>
                                    {{ /nav:main }}
                                </ul>
                        </nav>
                    </div>
                </div>
            </div>

            <a title="Home" href="/" class="flex items-center">
                {{ partial:svg/logo class="h-8 text-current" }}
            </a>

            <div class="flex items-center pl-2">
                <button
                    title="Toggle menu"
                    @click="navigationMenuToggle()"
                    class="inline-flex items-center justify-center px-2 py-2 text-sm transition-colors rounded-outer focus:outline-none disabled:opacity-50 disabled:pointer-events-none group"
                >
                    <span x-show="!navigationMenuOpen">{{ partial:svg/burger class="size-8" }}</span>
                    <span x-show="navigationMenuOpen">{{ partial:svg/cross class="size-8" }}</span>
                </button>
            </div>
        </div>
    </div>
</div>
