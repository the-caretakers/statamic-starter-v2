<header
    class="w-full z-10 fixed flex items-center top-0 transition-colors ease-in-out duration-300 h-[80px] lg:h-[90px]"
    :class="{
        'bg-white text-current': isScrolled || navigationMenuOpen || searchOpen,
        'bg-transparent text-white': !isScrolled && !navigationMenuOpen && !searchOpen,
    }"
    x-on:scroll.window="isScrolled = window.scrollY > 80"
    x-on:click.outside="handleClickAway"
    x-data="{
        isScrolled: false,
        searchOpen: false,
        navigationMenuOpen: false,
        navigationMenuToggle() {
            this.navigationMenuOpen = !this.navigationMenuOpen;
        },
        navigationMenuClose() {
            this.navigationMenuOpen = false;
        },
        handleClickAway() {
            if (this.searchOpen) {
                this.searchOpen = false;
            }
        },
    }"
>
    <div class="hidden xl:block w-full h-full">
        {{ partial:layout/header/desktop }}
    </div>

    <div class="block xl:hidden w-full h-full">
        {{ partial:layout/header/mobile }}
    </div>

    <div x-show="searchOpen" x-transition.duration.200ms x-trap="searchOpen" class="absolute top-24 inset-x-0">
        <div class="container mx-auto mt-4">
            <div class="bg-white p-8 shadow rounded-outer" @click.outside="searchOpen = false">
                {{ partial:layout/search }}
            </div>
        </div>
    </div>
</header>
